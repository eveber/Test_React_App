{"version":3,"sources":["hoc/withAuthRedirect.jsx","Assets/images/no_avatar.png","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.scss","components/Users/User/User.module.scss","components/common/Paginator/Paginator.module.scss","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","User","isFetching","Preloader","user","className","css","userItem","avatarWrapp","photoWrapp","id","src","photos","small","noAvatar","alt","btnWrap","followed","disabled","isFollowing","some","siteButton","onClick","unfollow","follow","userInfoWrapp","userName","siteCaption","name","userCountry","userCity","userStatus","Paginator","totalItemsCount","pageSize","onCurrentPageClick","currentPage","portionSize","pageCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","btnPrev","filter","p","map","key","selectedPage","Users","usersWrapper","totalUsersCount","users","u","usersSel","usersPage","pageSizeSel","totalUsersCountSel","currentPageSel","isFetchingSel","isFollowingSel","UsersContainer","page","requestUsers","compose","setCurrentPage"],"mappings":"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","file":"static/js/4.f44ea48f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps  = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToProps)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};","module.exports = __webpack_public_path__ + \"static/media/no_avatar.9843bf80.png\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLink\":\"Users_siteLink__31gTf\",\"siteLinkActive\":\"Users_siteLinkActive__20wqx\",\"siteCaption\":\"Users_siteCaption__3HdJY\",\"siteButton\":\"Users_siteButton__1Cggr\",\"siteTextarea\":\"Users_siteTextarea__vRcDq\",\"siteInput\":\"Users_siteInput__LKdRT\",\"usersWrapper\":\"Users_usersWrapper__ddyio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLink\":\"User_siteLink__3s8MQ\",\"siteLinkActive\":\"User_siteLinkActive__18k94\",\"siteCaption\":\"User_siteCaption__DjXZ7\",\"siteButton\":\"User_siteButton__3FgaH\",\"siteTextarea\":\"User_siteTextarea__30Gn2\",\"siteInput\":\"User_siteInput__PpT9Y\",\"userItem\":\"User_userItem__1SG6R\",\"avatarWrapp\":\"User_avatarWrapp__3GwoG\",\"photoWrapp\":\"User_photoWrapp__3gxwr\",\"btnWrap\":\"User_btnWrap__2f0Y7\",\"userInfoWrapp\":\"User_userInfoWrapp__rHa8N\",\"userName\":\"User_userName__2pCfi\",\"userCountry\":\"User_userCountry__3Ia9L\",\"userCity\":\"User_userCity__dClwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLink\":\"Paginator_siteLink__3P57O\",\"siteLinkActive\":\"Paginator_siteLinkActive__2LfxU\",\"siteCaption\":\"Paginator_siteCaption__3j45j\",\"siteButton\":\"Paginator_siteButton__1vnlm\",\"siteTextarea\":\"Paginator_siteTextarea__20_ur\",\"siteInput\":\"Paginator_siteInput__1cBFY\",\"pagination\":\"Paginator_pagination__3Is2i\",\"btnPrev\":\"Paginator_btnPrev__1aFCz\",\"selectedPage\":\"Paginator_selectedPage__12Job\"};","import React from \"react\";\r\nimport noAvatar from '../../../Assets/images/no_avatar.png';\r\nimport css from './User.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst User = (props) => {\r\n    if(props.isFetching) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    let user = props.user;\r\n    return (\r\n                 <div className={css.userItem}>\r\n                    <div className={css.avatarWrapp}>\r\n                        <div className={css.photoWrapp}>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <img src={user.photos.small != null ? user.photos.small : noAvatar} alt=\"avatar\"/>\r\n                            </NavLink>\r\n                        </div>\r\n\r\n                        <div className={css.btnWrap}>\r\n                            {\r\n                                user.followed\r\n                                    ? <button disabled={props.isFollowing.some((id) => id === user.id)}\r\n                                              className={css.siteButton}\r\n                                              onClick={() => {\r\n                                        props.unfollow(user.id);\r\n                                    }}>Unfollow</button>\r\n                                    : <button disabled={props.isFollowing.some((id) => id === user.id)}\r\n                                              className={css.siteButton}\r\n                                              onClick={() => {\r\n                                        props.follow(user.id);\r\n                                    }}>Follow</button>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={css.userInfoWrapp}>\r\n                        <div>\r\n                            <div className={css.userName + ' ' + css.siteCaption}>{user.name}</div>\r\n                            <div className={css.userCountry + ' ' + css.siteCaption}>Country,</div>\r\n                        </div>\r\n                        <div className={css.userCity + ' ' + css.siteCaption}>City</div>\r\n                        <div className={css.userStatus}>Status...</div>\r\n                    </div>\r\n\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React, {useState} from \"react\";\r\nimport css from './Paginator.module.scss';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, onCurrentPageClick, currentPage, portionSize = 10}) => {\r\n\r\n    let pageCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={css.pagination}>\r\n            {portionNumber > 1 && <button\r\n                className={css.siteButton + ' ' + css.btnPrev}\r\n                onClick={() => setPortionNumber(portionNumber-1)}>назад</button>}\r\n            {pages\r\n                .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span key={p}\r\n                                 onClick={() => onCurrentPageClick(p)}\r\n                                 className={currentPage === p && css.selectedPage}>\r\n                         {p}\r\n                     </span>\r\n                })}\r\n             { portionCount > portionNumber && <button\r\n                 className={css.siteButton}\r\n                 onClick={() => setPortionNumber(portionNumber + 1)}>вперёд</button>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport css from './Users.module.scss';\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <label className={css.siteCaption}>Пользователи</label>\r\n            <div className={css.usersWrapper}>\r\n                <Paginator {...props} totalItemsCount = {props.totalUsersCount} />\r\n                {props.users.map((u) => <User {...props} user={u} key={u.id} />)}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default Users;","export const usersSel = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const pageSizeSel = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const totalUsersCountSel = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const currentPageSel = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const isFetchingSel = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const isFollowingSel = (state) => {\r\n    return state.usersPage.isFollowing;\r\n}\r\n\r\n","import {connect} from 'react-redux';\r\nimport {follow, requestUsers, setCurrentPage, unfollow} from '../../redux/users-reducer';\r\nimport React from 'react';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    currentPageSel,\r\n    isFetchingSel, isFollowingSel,\r\n    pageSizeSel, totalUsersCountSel,\r\n    usersSel\r\n} from \"../../redux/users-selectors\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\n//Сontainer ClassСomponent\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let currentPage = this.props.currentPage;\r\n        let pageSize = this.props.pageSize;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    //For pagination\r\n    onCurrentPageClick = (page) => {\r\n        let pageSize = this.props.pageSize;\r\n        this.props.requestUsers(page, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Users {...this.props}\r\n                  onCurrentPageClick={this.onCurrentPageClick}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: usersSel(state),\r\n        pageSize: pageSizeSel(state),\r\n        totalUsersCount: totalUsersCountSel(state),\r\n        currentPage: currentPageSel(state),\r\n        isFetching: isFetchingSel(state),\r\n        isFollowing: isFollowingSel(state)\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, {setCurrentPage, requestUsers, follow, unfollow}),\r\n    withAuthRedirect\r\n)(UsersContainer);\r\n"],"sourceRoot":""}